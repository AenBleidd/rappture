
bindir          = @bindir@
datadir		= @datadir@
datarootdir	= @datarootdir@
exec_prefix     = @exec_prefix@
includedir      = @includedir@
libdir          = @libdir@
mandir          = @mandir@
prefix          = @prefix@

INSTALL		= @INSTALL@
INSTALL_PROGRAM	= ${INSTALL} -m 755
INSTALL_DATA	= ${INSTALL} -m 644
INSTALL_SCRIPT	= ${INSTALL} -m 644

F77 = 		@F77@
CC =		@CC@
CXX = 		@CXX@
RUBY = 		@RUBY@
PERL = 		@PERL@
TCLSH = 	@TCLSH@
PYTHON = 	@PYTHON@
MEX = 		@MEX@
MKOCTFILE2 = 	@MKOCTFILE2@
MKOCTFILE3 = 	@MKOCTFILE3@
OCTAVE = 	$(MKOCTFILE2) $(MKOCTFILE3)
JAVAC =		@JAVAC@

.PHONY: tcl cee fortran octave matlab perl python ruby java 2.0 wrapper

LANGS = cee tcl wrapper 2.0
ifneq ($(F77),)
    LANGS += fortran
endif
ifneq ($(OCTAVE),)
    LANGS += octave
endif
ifneq ($(MEX),)
    LANGS += matlab 
endif
ifneq ($(PERL),)
    LANGS += perl
endif
ifneq ($(PYTHON),)
    LANGS += python
endif
ifneq ($(RUBY),)
    LANGS += ruby
endif
ifneq ($(JAVAC),)
    LANGS += java
endif

all:	
	for i in $(LANGS) ; do \
	   $(MAKE) -C $$i all || exit 1 ; \
	done

install: 
	for i in $(LANGS) ; do \
	   $(MAKE) -C $$i install || exit 1 ; \
	done

clean:
	for i in $(LANGS) ; do \
	   $(MAKE) -C $$i clean || exit 1 ; \
	done

distclean: 
	for i in $(LANGS) ; do \
	   $(MAKE) -c $$i distclean || exit 1 ; \
	done
	$(RM) Makefile
