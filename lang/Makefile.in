
bindir          = @bindir@
datadir		= @datadir@
datarootdir	= @datarootdir@
exec_prefix     = @exec_prefix@
includedir      = @includedir@
libdir          = @libdir@
mandir          = @mandir@
prefix          = @prefix@

INSTALL		= @INSTALL@

F77 = 		@F77@
CC =		@CC@
CXX = 		@CXX@
RUBY = 		@RUBY@
PERL = 		@PERL@
TCLSH = 	@TCLSH@
PYTHON_DISTUTILS = 	@PYTHON_DISTUTILS@
PYTHON = 	@PYTHON@
MEX = 		@MEX@
MKOCTFILE = 	@MKOCTFILE@

# Rappture requires we always build a Tcl language API.
LANGS = tcl

ifneq ($(MKOCTFILE),)
  LANGS += octave
endif
ifneq ($(MEX),)
  LANGS += matlab
endif
ifneq ($(PERL),)
  LANGS += perl
endif
ifeq ($(PYTHON_DISTUTILS),yes)
  LANGS += python
endif
ifneq ($(RUBY),)
#  LANGS += ruby
endif

.PHONY:	tcl octave matlab perl python ruby

all:	
	for i in $(LANGS) ; do \
	  $(MAKE) -C $$i all || exit 1 ;\
	done

install: 
	for i in $(LANGS) ; do \
	  $(MAKE) -C $$i install || exit 1 ;\
	done

test: 
	for i in $(LANGS) ; do \
	  $(MAKE) -C $$i test || exit 1 ;\
	done

clean: 
	for i in $(LANGS) ; do \
	  $(MAKE) -C $$i clean ;\
	done

distclean: 
	for i in $(LANGS) ; do \
	  $(MAKE) -C $$i distclean ;\
	done
	$(RM) Makefile *~
