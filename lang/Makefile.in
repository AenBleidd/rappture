
bindir          = @bindir@
datadir         = @datadir@
datarootdir     = @datarootdir@
exec_prefix     = @exec_prefix@
includedir      = @includedir@
libdir          = @libdir@
mandir          = @mandir@
prefix          = @prefix@

INSTALL         = @INSTALL@

SHELL           = @SHELL@
F77             = @F77@
CC              = @CC@
CXX             = @CXX@
RUBY            = @HAVE_RUBY_DEVEL@
PERL            = @PERL@
TCLSH           = @TCLSH@
PYTHON          = @PYTHON_DISTUTILS@
MEX             = @MEX@
OCTAVE          = @OCTAVE_VERSION@
JAVAC           = @JAVAC@
R               = @R@

# Rappture requires it. We always build a Tcl language API.
LANGS = tcl

ifneq ($(PERL),)
  LANGS += perl
endif
ifeq ($(PYTHON),yes)
  LANGS += python
endif
ifeq ($(RUBY),yes)
  LANGS += ruby
endif
ifneq ($(MEX),)
  LANGS += matlab
endif
ifneq ($(OCTAVE),)
  LANGS += octave
endif
ifneq ($(JAVAC),)
  LANGS += java
endif
ifneq ($(R),)
  LANGS += R
endif

.PHONY:	tcl octave matlab perl python ruby java R

all:
	for i in $(LANGS) ; do \
	  $(MAKE) -C $$i all || exit 1 ;\
	done

install:
	for i in $(LANGS) ; do \
	  $(MAKE) -C $$i install || exit 1 ;\
	done

test:
	for i in $(LANGS) ; do \
	  $(MAKE) -C $$i test || exit 1 ;\
	done

clean:
	for i in $(LANGS) ; do \
	  $(MAKE) -C $$i clean ;\
	done

distclean:
	for i in $(LANGS) ; do \
	  $(MAKE) -C $$i distclean ;\
	done
	$(RM) Makefile *~
