TARGETS         = client mycat nanoscale

CC              = @CC@
CFLAGS          = @CFLAGS@
LDFLAGS         = @LDFLAGS@

bindir          = @bindir@
datadir		= @datarootdir@
exec_prefix     = @exec_prefix@
includedir      = @includedir@
libdir          = @libdir@
mandir          = @mandir@
prefix          = @prefix@
srcdir		= @srcdir@

VPATH		= $(srcdir)

INSTALL         = @INSTALL@
INSTALL_PROGRAM = ${INSTALL} -m 555
INSTALL_DATA    = ${INSTALL} -m 444
INSTALL_SCRIPT  = ${INSTALL} -m 444

.PHONY: all install clean distclean

all: $(TARGETS)

nanoscale: server.o
	$(CC) $(CFLAGS) $(LDFLAGS) server.o -o nanoscale

install: nanoscale
	$(INSTALL_PROGRAM) -D nanoscale $(bindir)/nanoscale

client: client.o clientlib.o

clean:
	rm -rf a.out *.o *~ core* $(TARGETS) *.log *.tmp logfile* .deps/*.d

distclean: clean
	rm Makefile

