
SHELL = /bin/sh

.PHONY: all install clean distclean

bindir          = @bindir@
datadir		= @datadir@
datarootdir	= @datarootdir@
exec_prefix     = @exec_prefix@
includedir      = @includedir@
libdir          = @libdir@
mandir          = @mandir@
prefix          = @prefix@
srcdir		= @srcdir@

INSTALL		= @INSTALL@
INSTALL_PROGRAM	= ${INSTALL} -m 555
INSTALL_DATA	= ${INSTALL} -m 444
INSTALL_SCRIPT	= ${INSTALL} -m 444
RM		= rm -f
AR		= ar rc
RANLIB		= @RANLIB@
CC		= @CC@
VPATH		= $(srcdir)

INCLUDES	= -I$(srcdir)

CFLAGS		= @CFLAGS@
EXTRA_CFLAGS	= -Wall 
DEFINES		= @DEFINES@
CC_SWITCHES	= $(CFLAGS) $(EXTRA_CFLAGS) $(INCLUDES)

MATLIB		= newmat11.a

OBJS		= \
		bandmat.o \
		cholesky.o \
		evalue.o \
		fft.o \
		hholder.o \
		jacobi.o \
		myexcept.o \
		newfft.o \
		newmat1.o \
		newmat2.o \
		newmat3.o \
		newmat4.o \
		newmat5.o \
		newmat6.o \
		newmat7.o \
		newmat8.o \
		newmat9.o \
		newmatex.o \
		newmatnl.o \
		newmatrm.o \
		nm_misc.o \
		solution.o \
		sort.o \
		submat.o \
		svd.o 

all: $(MATLIB)

install: all

$(MATLIB): $(OBJS)
	$(RM) $@
	$(AR) $@ $(OBJS) 
	$(RANLIB) $@

.cpp.o:
	$(CC) $(CC_SWITCHES) -o $@ -c $<

clean:
	$(RM) *.a *.o

distclean: clean
	$(RM) Makefile *~

