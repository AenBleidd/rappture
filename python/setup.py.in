from distutils.core import setup, Extension

rp_install_dir = '@prefix@'

library_module = Extension('Rappture.library',
                   include_dirs = [rp_install_dir+'/include', '../include'],
                   sources = [ 'Rappture/PyRpLibrary.cc' ],
                   library_dirs = [ rp_install_dir+'/lib', '../src' ],
                   libraries = [ 'rappture' ] )

units_module = Extension('Rappture.Units',
                   include_dirs = [rp_install_dir+'/include', '../include'],
                   sources = [ 'Rappture/PyRpUnits.cc' ],
                   library_dirs = [ rp_install_dir+'/lib', '../src' ],
                   libraries = [ 'rappture' ] )

utils_module = Extension('Rappture.Utils',
                   include_dirs = [rp_install_dir+'/include', '../include'],
                   sources = [ 'Rappture/PyRpUtils.cc' ],
                   library_dirs = [ rp_install_dir+'/lib', '../src' ],
                   libraries = [ 'rappture' ] )

encode_module = Extension('Rappture.encoding',
                   include_dirs = [rp_install_dir+'/include', '../include'],
                   sources = [ 'Rappture/PyRpEncode.cc' ],
                   library_dirs = [ rp_install_dir+'/lib', '../src' ],
                   libraries = [ 'rappture' ] )

setup(  name='Rappture',
        version='0.1',
        description='Rapid Application Infrastructure library for nanoHUB.org',
        url='http://www.nanohub.org/',
        py_modules=[ 'Rappture.interface',
                     'Rappture.number',
                     'Rappture.queue',
                     'Rappture.signalHandler',
                     'Rappture.tools',
                     'Rappture.result'],
        ext_modules=[   encode_module,
                        library_module,
                        units_module,
                        utils_module    ]
  )
